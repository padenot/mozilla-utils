<html>
<head>
<style>
video {
  width:600px;
}
</style>
</head>
<body>
<button onclick="changepitch();">mozPreservesPitch</button>
<button onclick="rate(0);">0</button>
<button onclick="rate(0.25);">0.25</button>
<button onclick="rate(0.33);">0.33</button>
<button onclick="rate(0.5);">0.5</button>
<button onclick="rate(1);">1</button>
<button onclick="rate(1.5);">1.5</button>
<button onclick="rate(2);">2</button>
<button onclick="rate(3);">3</button>
<button onclick="rate(4);">4</button>
<button onclick="rate(5);">5</button>
<button onclick="rate(6);">6</button>
<button onclick="rate(7);">7</button>
<button onclick="rate(8);">8</button>
<button onclick="rate(9);">9</button>
<button onclick="rate(10);">10</button>
<button onclick="randomRate();">RandomRate</button>
<video src="sintel.webm" controls>
</video>
<video src="z.ogg" controls>
</video>
<video src="sync-noaudio.webm" controls>
</video>
<video src="sync.webm" controls>
</video>
<video src="short-video.ogv" controls>
</video>
<audio src="sound.ogg" controls>
</audio>

<script type="text/javascript">
var pitch = true;
function changepitch() {
  pitch = !pitch;
  var v = document.querySelectorAll('video, audio');
  v = Array.prototype.slice.call(v,0)

  v.forEach(function(e) {
    e.mozPreservesPitch = pitch;
  });
}
function rate(r) {
  var v = document.querySelectorAll('video, audio');
  v = Array.prototype.slice.call(v,0)

  v.forEach(function(e) {
    e.playbackRate = r;
  });
}

function randomRate() {
  rate(Math.random() + 0.5);
  setTimeout(randomRate, Math.random() * 200);
}
</script>
</body>
</html>
